<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Redux_Task_1</title>
</head>

<body>

  <h1>Redux Counter</h1>
  <p id="count">Count: 0</p>
  <button id="inc">Increment</button>
  <button id="dec">Decrement</button>
  <button id="reset">Reset</button>

  <!-- Redux CDN -->
  <script src="https://unpkg.com/redux@4.2.1/dist/redux.js"></script>

  <script>
    // 1. Initial State
    const initState = { count: 0 };

    // 2. Reducer
    function reducer(state = initState, action) {
      switch (action.type) {
        case "INC":
          return { count: state.count + 1 };
        case "DEC":
          return { count: state.count - 1 };
        case "RESET":
          return { count: 0 };
        default:
          return state;
      }
    }
    // 3. Store
    const store = Redux.createStore(reducer);

    // 4. DOM Elements
    const countEl = document.getElementById("count");
    const inc = document.getElementById("inc");
    const dec = document.getElementById("dec");
    const rest = document.getElementById("reset");

    // 5. Render UI
    function render() {
      countEl.textContent = "Count: " + store.getState().count;
    }

    // 6. Subscribe to store
    store.subscribe(render);

    // 7. Dispatch actions on click
    inc.addEventListener("click", () => {
      store.dispatch({ type: "INC" });
    });
    dec.addEventListener("click", () => {
      store.dispatch({ type: "DEC" });
    });
    rest.addEventListener("click", () => {
      store.dispatch({ type: "RESET" });
    });

    // Initial render
    render();
  </script>
</body>

</html>